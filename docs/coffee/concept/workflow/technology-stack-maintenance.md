---
tag:
  - ç†è®ºçŸ¥è¯†
tags:
  - å·¥ä½œæµ

description: åœ¨å®ç°äº†åˆå§‹æŠ€æœ¯é€‰å‹å¹¶æŠ•å…¥å¼€å‘åï¼Œä¸€ä¸ªé‡è¦çš„æŒç»­æ€§ä»»åŠ¡æ˜¯æ›´æ–°å’Œç»´æŠ¤ä½ çš„æŠ€æœ¯æ ˆã€‚è¿™äº›æ›´æ–° å¯ä»¥æä¾›æ–°çš„åŠŸèƒ½ã€æå‡æ€§èƒ½ã€ä¿®å¤æ¼æ´ï¼Œç»´æŠ¤åˆ™ä¿è¯äº†ä»£ç è´¨é‡å’Œç³»ç»Ÿç¨³å®šæ€§ã€‚
---

# å·¥ä½œæµ - æŠ€æœ¯æ ˆæ›´æ–°ä¸ç»´æŠ¤æ–¹æ¡ˆ

> åœ¨å®ç°äº†åˆå§‹æŠ€æœ¯é€‰å‹å¹¶æŠ•å…¥å¼€å‘åï¼Œä¸€ä¸ªé‡è¦çš„æŒç»­æ€§ä»»åŠ¡æ˜¯æ›´æ–°å’Œç»´æŠ¤ä½ çš„æŠ€æœ¯æ ˆã€‚è¿™äº›æ›´æ–° å¯ä»¥æä¾›æ–°çš„åŠŸèƒ½ã€æå‡æ€§èƒ½ã€ä¿®å¤æ¼æ´ï¼Œç»´æŠ¤åˆ™ä¿è¯äº†ä»£ç è´¨é‡å’Œç³»ç»Ÿç¨³å®šæ€§ã€‚

## ğŸ”§ åŸºæœ¬æ­¥éª¤

ä»¥ä¸‹æ˜¯å¯å‚è€ƒçš„åŸºæœ¬å·¥ä½œæµï¼š

::: info 1. ç›‘æµ‹å’Œè¯„ä¼°æ›´æ–°

è®¢é˜…å¹¶è·Ÿè¸ªä½ æ‰€ä½¿ç”¨æŠ€æœ¯æ ˆçš„æ›´æ–°é€šçŸ¥ã€‚ä¾‹å¦‚ï¼Œå¯¹äº JavaScript åº“æˆ–æ¡†æ¶ï¼Œå¯ä»¥åœ¨ GitHub ä¸Šå…³æ³¨å…¶å‘å¸ƒé¡µé¢ï¼Œæˆ–æ˜¯è®¢é˜…ç›¸å…³çš„ RSSfeed æˆ–é‚®ä»¶é€šçŸ¥ã€‚

å¯¹æ¯ä¸ªæ›´æ–°è¿›è¡Œè¯„ä¼°ã€‚çœ‹çœ‹å®ƒæ˜¯å¦æä¾›äº†å¯¹ä½ çš„é¡¹ç›®æœ‰ç”¨çš„æ–°åŠŸèƒ½ï¼Œæ˜¯å¦ä¿®å¤äº†ä½ æ­£åœ¨ç»å†çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯å¦åŒ…å«äº†å®‰å…¨æ›´æ–°ã€‚

:::

::: info 2. æµ‹è¯•æ–°ç‰ˆæœ¬

åœ¨å†³å®šæ›´æ–°ä¹‹å‰ï¼Œé¦–å…ˆåœ¨å¼€å‘ç¯å¢ƒä¸­æµ‹è¯•æ–°ç‰ˆæœ¬ã€‚çœ‹æ˜¯å¦ä¸ä½ çš„ä»£ç åº“å…¼å®¹ï¼Œæ˜¯å¦å¼•å…¥äº†æ–°çš„é—®é¢˜ã€‚

ä½¿ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå¦‚å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œæ¥éªŒè¯æ–°ç‰ˆæœ¬çš„ç¨³å®šæ€§å’Œå…¼å®¹æ€§ã€‚

:::

::: info 3. å®æ–½æ›´æ–°ï¼š

åœ¨ç¡®è®¤æ–°ç‰ˆæœ¬ç¨³å®šå¹¶ä¸”æœ‰ç›Šäºä½ çš„é¡¹ç›®ä¹‹åï¼Œå¼€å§‹åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®æ–½æ›´æ–°ã€‚

ä½ å¯èƒ½éœ€è¦è°ƒæ•´ä½ çš„ä»£ç ä»¥é€‚åº”æ–°ç‰ˆæœ¬ï¼Œæ¯”å¦‚ API å˜æ›´æˆ–è€…æ–°çš„æœ€ä½³å®è·µã€‚

:::

::: info 4. ä»£ç ç»´æŠ¤ï¼š

å®šæœŸå®¡æŸ¥å’Œé‡æ„ä»£ç ï¼Œä¿æŒä»£ç è´¨é‡ã€‚ç§»é™¤æ— ç”¨ä¾èµ–ï¼Œä¿®å¤å·²çŸ¥çš„é—®é¢˜ï¼Œæå‡ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

ä½¿ç”¨é™æ€ä»£ç åˆ†æå·¥å…·ï¼ˆå¦‚ ESLint å¯¹äº JavaScriptï¼‰æ¥æ£€æµ‹å¯èƒ½çš„é”™è¯¯å’Œä¸è‰¯çš„ç¼–ç¨‹å®è·µã€‚

:::

::: info 5. æ£€æµ‹æ€§èƒ½å’Œå®‰å…¨æ€§ï¼š

å®šæœŸç›‘æµ‹åº”ç”¨çš„æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·ï¼ˆå¦‚ GoogleLighthouseï¼‰æ¥è¯„ä¼°ä½ çš„å‰ç«¯æ€§èƒ½ã€‚

å¯¹äºå®‰å…¨æ€§ï¼Œç¡®ä¿åœ¨æ¥æ”¶å¹¶åŠæ—¶å¤„ç†æ‰€æœ‰çš„å®‰å…¨æ›´æ–°ï¼Œå¹¶ä½¿ç”¨å®‰å…¨æ£€æŸ¥å·¥å…·ï¼ˆå¦‚ OWASPZAPï¼‰è¿›è¡Œå®šæœŸçš„å®‰å…¨æ‰«æã€‚

:::

::: info 6. åˆ†äº«å’ŒåŸ¹è®­ï¼š

åœ¨æ›´æ–°æŠ€æœ¯æ ˆåï¼Œå¯èƒ½éœ€è¦è¿›è¡Œä¸€äº›å†…éƒ¨åŸ¹è®­ï¼Œç¡®ä¿æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½ç†è§£æ–°çš„åŠŸèƒ½æˆ–è€…å˜æ›´ã€‚

åˆ›å»ºä¸€ä¸ªå†…éƒ¨çŸ¥è¯†åº“æˆ–è€…æ–‡æ¡£ï¼Œè®°å½•å…³é”®çš„æ›´æ–°å’Œæœ€ä½³å®è·µã€‚

:::

## ğŸ”§ ç°åº¦å‘å¸ƒ

> ç°åº¦å‘å¸ƒæ˜¯ä¸€ç§è½¯ä»¶å‘å¸ƒç®¡ç†ç­–ç•¥ï¼Œå®ƒå…è®¸å¼€å‘è€…é€æ¸æ¨å‡ºæ–°ç‰¹æ€§ã€æ›´æ–°æˆ–ä¿®æ”¹ï¼Œåªå¯¹éƒ¨åˆ†ç”¨æˆ·ç”Ÿæ•ˆï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§æ¨å‘å…¨éƒ¨ç”¨æˆ·ã€‚è¿™æ ·å¯ä»¥åœ¨è¾ƒå°çš„ç”¨æˆ·ç¾¤ä½“ä¸­éªŒè¯åŠŸèƒ½çš„ç¨³å®šæ€§å’Œæ•ˆç”¨ï¼ŒåŒæ—¶é™ä½å› å‘å¸ƒæ–°åŠŸèƒ½æˆ–æ›´æ–°å¸¦æ¥çš„é£é™©ã€‚å¦‚æœç°åº¦å‘å¸ƒä¸­å‡ºç°é—®é¢˜ï¼Œå¯ä»¥åœ¨å½±å“æ‰©å¤§ä¹‹å‰å¿«é€Ÿå›æ»šã€‚

> åœ¨æŠ€æœ¯æ ˆæ›´æ–°ä¸ç»´æŠ¤çš„è¿‡ç¨‹ä¸­ï¼Œç°åº¦å‘å¸ƒæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨æ›´æ–°ä¸€ä¸ªå…³é”®çš„ä¾èµ–åº“æˆ–æ¡†æ¶ï¼Œä½ å¯ä»¥å…ˆåœ¨ä¸€éƒ¨åˆ†ç”¨æˆ·ï¼ˆæˆ–æœåŠ¡ï¼‰ä¸­è¿›è¡Œç°åº¦å‘å¸ƒï¼Œè§‚å¯Ÿæ˜¯å¦å­˜åœ¨ä»»ä½•æœªé¢„æœŸçš„é—®é¢˜æˆ–å‰¯ä½œç”¨ã€‚ä¸€æ—¦ç¡®è®¤æ–°ç‰ˆæœ¬ç¨³å®šï¼Œå†é€æ­¥æ¨å‘æ‰€æœ‰ç”¨æˆ·æˆ–æœåŠ¡ã€‚

> åœ¨ PC ç½‘é¡µã€ç§»åŠ¨ç«¯å’Œæ¡Œé¢åº”ç”¨ç¨‹åºä¸­è¿›è¡Œç°åº¦å‘å¸ƒéƒ½æœ‰ä¸€äº›å¸¸è§çš„ç­–ç•¥ã€‚

## ğŸ”§ å‰ç«¯ç°åº¦å‘å¸ƒç­–ç•¥

> åœ¨å‰ç«¯é¢†åŸŸä¸­ï¼Œå®ç°ç°åº¦å‘å¸ƒçš„æ–¹æ³•æœ‰å¾ˆå¤šç§ã€‚ç°åº¦å‘å¸ƒçš„ä¸»è¦ç›®æ ‡æ˜¯å°†æ–°ç‰ˆæœ¬çš„åº”ç”¨é€æ­¥æ¨å‡ºï¼Œä»¥ä¾¿åœ¨æœ‰é™çš„ç”¨æˆ·ç¾¤ä½“ä¸­æµ‹è¯•å…¶æ€§èƒ½å’Œå¯é æ€§ï¼Œç„¶åå†å…¨é¢æ¨å‡ºã€‚

ä¸‹é¢æ˜¯ä¸€äº›åœ¨å‰ç«¯å®ç°ç°åº¦å‘å¸ƒçš„å¸¸è§æ–¹æ¡ˆã€‚å…·ä½“é€‰å“ªä¸€ç§æ–¹æ¡ˆï¼Œå–å†³äºåº”ç”¨çš„ç‰¹æ€§å’Œéœ€æ±‚ï¼š

1. ç‰¹æ€§åˆ‡æ¢ï¼ˆFeatureTogglesï¼‰ï¼šé€šè¿‡åœ¨ä»£ç ä¸­æ·»åŠ å¼€å…³ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°å¼€å¯æˆ–å…³é—­æŸä¸ªæ–°çš„ç‰¹æ€§æˆ–ä¿®æ”¹ã€‚ç‰¹æ€§åˆ‡æ¢å¯ä»¥æ ¹æ®ç”¨æˆ·çš„æ ‡è¯†ï¼Œåœ°ç†ä½ç½®ï¼Œæµè§ˆå™¨ç±»å‹ç­‰è¿›è¡Œè°ƒæ•´ï¼Œä»¥å®ç°ç°åº¦å‘å¸ƒã€‚
2. A/B æµ‹è¯•ï¼šA/B æµ‹è¯•æ˜¯ä¸€ç§ç»Ÿè®¡å­¦æ–¹æ³•ï¼Œé€šè¿‡å°†ç”¨æˆ·ç¾¤ä½“åˆ†æˆä¸¤ç»„ï¼ˆæˆ–å¤šç»„ï¼‰å¹¶ç»™äºˆä¸åŒçš„ä½“éªŒï¼Œç„¶åæ¯”è¾ƒè¿™äº›ç¾¤ä½“çš„è¡Œä¸ºå·®å¼‚ã€‚è®¸å¤š A/B æµ‹è¯•å¹³å°ï¼Œå¦‚ Optimizelyã€Firebase ç­‰ï¼Œæ”¯æŒç°åº¦å‘å¸ƒã€‚

3. CanaryReleasesï¼šè¯¥æ–¹æ³•æ¶‰åŠå°†æ–°ç‰ˆæœ¬éƒ¨ç½²åˆ°æ‰€è°“çš„"é‡‘ä¸é›€"æœåŠ¡å™¨ï¼Œå¹¶å°†ä¸€å°éƒ¨åˆ†ç”¨æˆ·æµé‡å¼•å¯¼è‡³è¯¥æœåŠ¡å™¨ã€‚å¦‚æœæ²¡æœ‰å‘ç°é—®é¢˜ï¼Œåˆ™å¯ä»¥å°†æ–°ç‰ˆæœ¬éƒ¨ç½²åˆ°æ‰€æœ‰æœåŠ¡å™¨ã€‚

<br />

![](http://images.qiuyouyou.cn/notes/technology-stack-maintenance-01.png)

<br />

4. ä½¿ç”¨ CDN çš„ Edgesï¼šä¸€äº› CDN æä¾›å•†ï¼ˆå¦‚ Akamaiã€Fastlyã€Cloudï¬‚areã€Denoï¼‰æä¾›äº†åœ¨è¾¹ç¼˜èŠ‚ç‚¹ä¸Šæ‰§è¡Œä»£ç çš„èƒ½åŠ›ï¼Œè¿™å¯ä»¥ç”¨æ¥å®ç°ç°åº¦å‘å¸ƒã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨è¾¹ç¼˜èŠ‚ç‚¹ä¸Šæ ¹æ®ç”¨æˆ·çš„ IP åœ°å€æˆ– cookieï¼Œé€‰æ‹©æ€§åœ°è¿”å›æ–°ç‰ˆæœ¬æˆ–æ—§ç‰ˆæœ¬çš„èµ„æºã€‚

5. ä½¿ç”¨ ServiceWorkersï¼šåœ¨æ”¯æŒ SeÏ€rviceWorkers çš„æµè§ˆå™¨ä¸­ï¼Œä½ å¯ä»¥åœ¨ ServiceWorker ä¸­å®ç°ç°åº¦å‘å¸ƒã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æ ¹æ®ç”¨æˆ·çš„ ID æˆ–å…¶ä»–æ ‡è¯†ï¼Œé€‰æ‹©æ€§åœ°ç¼“å­˜å¹¶è¿”å›æ–°ç‰ˆæœ¬æˆ–æ—§ç‰ˆæœ¬çš„èµ„æºã€‚

6. ä½¿ç”¨å‰ç«¯è·¯ç”±ï¼šåœ¨å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨å‰ç«¯è·¯ç”±æ¥å®ç°ç°åº¦å‘å¸ƒã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„è·¯ç”±å¯¹åº”æ–°çš„ç‰¹æ€§ï¼Œç„¶åæ ¹æ®ç”¨æˆ·çš„æ ‡è¯†é€‰æ‹©æ€§åœ°å±•ç¤ºè¿™ä¸ªè·¯ç”±ã€‚

## ğŸ”§ ç½‘é¡µåº”ç”¨

> ä¸€èˆ¬æ¥è¯´ï¼Œç°åº¦å‘å¸ƒéœ€è¦ä¸ä½ çš„å‘å¸ƒç³»ç»Ÿå’Œåº”ç”¨æ¶æ„ç´§å¯†é…åˆã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ç­–ç•¥ï¼š

1. ä½¿ç”¨åå‘ä»£ç†æˆ–è´Ÿè½½å‡è¡¡å™¨ï¼šä¾‹å¦‚ï¼Œä½ å¯ä»¥é…ç½® Nginx æˆ– HAProxy ç­‰å·¥å…·ï¼Œæ ¹æ®ç”¨æˆ·çš„ IP åœ°å€æˆ–å…¶ä»–æ ‡è¯†ï¼Œå°†éƒ¨åˆ†ç”¨æˆ·çš„è¯·æ±‚è·¯ç”±åˆ°è¿è¡Œæ–°ç‰ˆæœ¬çš„æœåŠ¡å™¨ï¼Œè€Œå…¶ä»–ç”¨æˆ·åˆ™ä»ç„¶è®¿é—®æ—§ç‰ˆæœ¬ã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºæ— çŠ¶æ€çš„æœåŠ¡ï¼Œä¾‹å¦‚é™æ€ç½‘é¡µæˆ– RESTAPIã€‚

2. ä½¿ç”¨ç‰¹æ€§åˆ‡æ¢ï¼šä½ å¯ä»¥åœ¨ä»£ç ä¸­åŠ å…¥ç‰¹æ€§åˆ‡æ¢ï¼ˆFeatureTogglesï¼‰ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€å¼€å¯æˆ–å…³é—­æŸä¸ªæ–°çš„ç‰¹æ€§æˆ–ä¿®æ”¹ã€‚è¿™é€šå¸¸éœ€è¦ä¸€ä¸ªé…ç½®æœåŠ¡æˆ–æ•°æ®åº“ï¼Œä»¥å­˜å‚¨ä¸åŒç”¨æˆ·çš„ç‰¹æ€§å¼€å…³çŠ¶æ€ã€‚ç„¶åï¼Œä½ å¯ä»¥åœ¨åç«¯æˆ–å‰ç«¯æ ¹æ®ç”¨æˆ·çš„æ ‡è¯†ï¼ŒåŠ¨æ€è°ƒæ•´è¿™äº›ç‰¹æ€§å¼€å…³ã€‚

3. ä½¿ç”¨ A/B æµ‹è¯•å¹³å°ï¼šæœ‰ä¸€äº›ä¸“é—¨çš„ A/B æµ‹è¯•å¹³å°ï¼Œå¦‚ Optimizelyã€Firebase ç­‰ï¼Œå¯ä»¥å¸®åŠ©ä½ è¿›è¡Œç°åº¦å‘å¸ƒã€‚ä½ å¯ä»¥åœ¨è¿™äº›å¹³å°ä¸Šå®šä¹‰å®éªŒç¾¤ç»„å’Œæ§åˆ¶ç¾¤ç»„ï¼Œç„¶åå°†æ–°çš„ç‰¹æ€§æˆ–ä¿®æ”¹åªæ¨é€åˆ°å®éªŒç¾¤ç»„ã€‚

## ğŸ”§ ç§»åŠ¨ç«¯å’Œæ¡Œé¢åº”ç”¨

> å¯¹äºéœ€è¦æ‰“åŒ…çš„åº”ç”¨ï¼Œå¦‚ç§»åŠ¨ç«¯å’Œæ¡Œé¢åº”ç”¨ï¼Œé€šå¸¸éœ€è¦åº”ç”¨å¸‚åœºæˆ–åˆ†å‘å¹³å°çš„æ”¯æŒã€‚ä¾‹å¦‚ GooglePlayStore å’Œ AppleAppStore éƒ½æ”¯æŒé˜¶æ®µæ€§å‘å¸ƒï¼Œä½ å¯ä»¥è®¾å®šåªå‘ä¸€éƒ¨åˆ†ç”¨æˆ·æ¨é€æ–°çš„æ›´æ–°ã€‚
>
> å¯¹äºæ¡Œé¢åº”ç”¨ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ ä½¿ç”¨äº† Electronï¼Œå¯ä»¥ä½¿ç”¨ electron-builder çš„ autoUpdater æ¨¡å—å®ç°ç°åº¦å‘å¸ƒã€‚

å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªç”µå­å•†åŠ¡ç½‘ç«™ï¼Œç°åœ¨è¦æ·»åŠ ä¸€ä¸ªæ–°çš„æ¨èç®—æ³•ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ç‰¹æ€§åˆ‡æ¢çš„æ¡ˆä¾‹ã€‚é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œä½ å¯ä»¥åœ¨æ§åˆ¶é£é™©çš„åŒæ—¶ï¼Œé€æ­¥æ¨å‡ºæ–°çš„ç‰¹æ€§æˆ–ä¿®æ”¹ï¼š

1. åœ¨ä»£ç ä¸­æ·»åŠ ç‰¹æ€§åˆ‡æ¢ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶æ¥æ§åˆ¶æ˜¯å¦ä½¿ç”¨æ–°çš„æ¨èç®—æ³•ã€‚

2. åœ¨å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥å¼€å¯æ–°çš„æ¨èç®—æ³•ï¼Œè¿›è¡Œè¯¦å°½çš„æµ‹è¯•ã€‚

3. å½“ä½ å‡†å¤‡åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œç°åº¦å‘å¸ƒæ—¶ï¼Œé¦–å…ˆåªå‘ä¸€éƒ¨åˆ†ç”¨æˆ·å¼€å¯æ–°çš„æ¨èç®—æ³•ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨åç«¯æ ¹æ®ç”¨æˆ· ID æˆ–å…¶ä»–æ ‡è¯†ï¼ŒåŠ¨æ€è°ƒæ•´ç‰¹æ€§åˆ‡æ¢çš„çŠ¶æ€ã€‚

4. æŒç»­æ”¶é›†å’Œåˆ†æç”¨æˆ·åé¦ˆå’Œæ€§èƒ½æ•°æ®ã€‚å¦‚æœå‘ç°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå…³é—­æ–°çš„æ¨èç®—æ³•ï¼Œå›æ»šåˆ°æ—§çš„ç‰ˆæœ¬ã€‚

5. ä¸€æ—¦ç¡®è®¤æ–°çš„æ¨èç®—æ³•ç¨³å®šä¸”æ•ˆæœè‰¯å¥½ï¼Œå¯ä»¥é€æ­¥å‘æ‰€æœ‰ç”¨æˆ·æ¨é€ã€‚

## ğŸ”§ å‰ç«¯ç°åº¦å‘å¸ƒæ¡ˆä¾‹

> å¯¹äºå‰ç«¯ä¾èµ–åº“ï¼ˆå¦‚ npm åŒ…ï¼‰çš„æ›´æ–°ï¼Œç°åº¦å‘å¸ƒçš„æ¦‚å¿µæœ‰æ‰€ä¸åŒã€‚å› ä¸ºä½ ä¸èƒ½å¯¹ä¸€éƒ¨åˆ†ç”¨æˆ·æä¾›ä¸€ä¸ªç‰ˆæœ¬çš„ä¾èµ–åº“ï¼Œå¯¹å…¶ä»–ç”¨æˆ·æä¾›å¦ä¸€ä¸ªç‰ˆæœ¬çš„ä¾èµ–åº“ï¼Œè¿™æ˜¯ç”±äºå½“ä½ å‘å¸ƒä½ çš„å‰ç«¯åº”ç”¨æ—¶ï¼Œæ‰€æœ‰çš„ä¾èµ–åº“éƒ½å·²ç»æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ— æ³•åŠ¨æ€æ›´æ”¹ã€‚

ä½ å¯ä»¥é‡‡ç”¨ç±»ä¼¼çš„ç­–ç•¥ï¼Œé€šè¿‡ä¸€ç³»åˆ—æµ‹è¯•å’Œé€æ­¥æ¨å‡ºæ¥é™ä½é£é™©ã€‚ä»¥ä¸‹æ˜¯ä¸€ç§å¯èƒ½çš„å·¥ä½œæµï¼š

1. ç›‘æ§å’Œè¯„ä¼°ä¾èµ–åº“çš„æ›´æ–°ï¼šä½ å¯ä»¥ä½¿ç”¨ npm çš„ npmoutdated å‘½ä»¤ï¼Œæˆ–è€…ä¸€äº›ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚ Dependabotï¼‰æ¥ç›‘æ§ä½ çš„ä¾èµ–åº“çš„æ›´æ–°ã€‚å¯¹äºæ¯ä¸ªæ›´æ–°ï¼Œä½ éœ€è¦è¯„ä¼°å®ƒæ˜¯å¦æœ‰åˆ©äºä½ çš„é¡¹ç›®ï¼Œæ¯”å¦‚æ˜¯å¦æä¾›äº†æ–°çš„åŠŸèƒ½ï¼Œä¿®å¤äº†é”™è¯¯ï¼Œæˆ–è€…å¢åŠ äº†æ€§èƒ½ã€‚

2. åœ¨å¼€å‘ç¯å¢ƒä¸­æµ‹è¯•æ–°ç‰ˆæœ¬ï¼šåœ¨ä½ çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå®‰è£…æ–°ç‰ˆæœ¬çš„ä¾èµ–åº“ï¼Œå¹¶è¿è¡Œä½ çš„åº”ç”¨ã€‚è¿™æ—¶ï¼Œä½ å¯ä»¥æŸ¥çœ‹æ–°ç‰ˆæœ¬æ˜¯å¦ä¸ä½ çš„ä»£ç å…¼å®¹ï¼Œæ˜¯å¦å¼•å…¥äº†æ–°çš„é—®é¢˜ã€‚

3. åœ¨ CI/CD æµç¨‹ä¸­è¿›è¡Œå…¨é¢æµ‹è¯•ï¼šåœ¨ä½ çš„ CI/CD æµç¨‹ä¸­ï¼Œå¯¹æ–°ç‰ˆæœ¬çš„ä¾èµ–åº“è¿›è¡Œå…¨é¢çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œç«¯åˆ°ç«¯æµ‹è¯•ã€‚è¿™å¯ä»¥å¸®åŠ©ä½ å‘ç°å¯èƒ½çš„é—®é¢˜ã€‚

4. åœ¨é¢„ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œç°åº¦å‘å¸ƒï¼šåœ¨é¢„ç”Ÿäº§ç¯å¢ƒï¼ˆå¦‚ staging æˆ– QA ç¯å¢ƒï¼‰ä¸­å‘å¸ƒåŒ…å«æ–°ç‰ˆæœ¬ä¾èµ–åº“çš„åº”ç”¨ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªæ¥è¿‘çœŸå®ç¯å¢ƒçš„åœ°æ–¹è¿›è¡Œæµ‹è¯•ã€‚

5. åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œé€æ­¥å‘å¸ƒï¼šä¸€æ—¦ä½ ç¡®è®¤æ–°ç‰ˆæœ¬çš„ä¾èµ–åº“åœ¨é¢„ç”Ÿäº§ç¯å¢ƒä¸­ç¨³å®šï¼Œä½ å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œé€æ­¥å‘å¸ƒã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨åå‘ä»£ç†æˆ–è´Ÿè½½å‡è¡¡å™¨ï¼Œå°†éƒ¨åˆ†ç”¨æˆ·çš„è¯·æ±‚è·¯ç”±åˆ°åŒ…å«æ–°ç‰ˆæœ¬ä¾èµ–åº“çš„æœåŠ¡å™¨ã€‚

> è¿™ä¸ªè¿‡ç¨‹å…è®¸ä½ åœ¨æ¯ä¸ªæ­¥éª¤ä¸­æ£€æŸ¥æ–°ç‰ˆæœ¬çš„ä¾èµ–åº“ï¼Œä»¥ç¡®ä¿å®ƒä¸ä¼šå¼•å…¥æ–°çš„é—®é¢˜ã€‚å¦‚æœåœ¨ä»»ä½•æ­¥éª¤ä¸­å‘ç°é—®é¢˜ï¼Œä½ å¯ä»¥å›æ»šåˆ°æ—§çš„ç‰ˆæœ¬ï¼Œç„¶åä¿®å¤é—®é¢˜æˆ–ç­‰å¾…ä¾èµ–åº“çš„ç»´æŠ¤è€…ä¿®å¤é—®é¢˜ã€‚

## ğŸ”§ æ¡ˆä¾‹

å¦‚ä½•é…ç½® nginx ä»£ç†åˆ°ä¸€å°æœåŠ¡å™¨ 80%çš„æµé‡ï¼Œå¦å¤–ä¸€å° 20%çš„æµé‡ï¼Œè¿™ç§å¦‚ä½•é…ç½®ï¼Œå¦‚ä½•å®ç°ï¼Ÿ

```json
worker_processes 1;

events {
  worker_connections 1024;
}

http {
  upstream backend {
    # æ—§ç‰ˆæœ¬åº”ç”¨çš„æœåŠ¡å™¨å’Œç«¯å£
    server 127.0.0.1:3000 weight=4;
    # æ–°ç‰ˆæœ¬åº”ç”¨çš„æœåŠ¡å™¨å’Œç«¯å£
    server 1270.0.1:3001 weight=1;
  }

  server {
    listen 80;
    server_name site1.com;

    location / {
      proxy_pass http://backend;
    }
  }
}
```

å‰ç«¯æœåŠ¡ï¼š

```json
{
  "name": "nginx",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "type": "module",
  "scripts": {
    "start": "run-p server server1",
    "server": "json-server --watch db.json --static ./site1 --port 3000",
    "server1": "json-server --watch db.json --static ./site2 --port 3001"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "json-server": "^0.17.3"
  }
}
```

è¿è¡Œ Nginx:

```yaml
version: '3'
services:
  nginx:
    container_name: nginx
    image: nginx:latest
    network_mode: host
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf #å®¿ä¸»æœºæ–‡ä»¶å·²åˆ›å»º
    restart: always
```
